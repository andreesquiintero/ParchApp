<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito de Compras - ParchApp</title>
    <style>
        :root {
            --color-primary: #233d00;
            --color-secondary: #457a00;
            --color-accent: #e4ffc2;
            --color-dark: #202e1a;
            --color-light: #ffffff;
            --color-error: #e74c3c;
            --color-success: #27ae60;
            --color-warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--color-dark);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header */
        header {
            background-color: var(--color-primary);
            color: var(--color-light);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .logo span {
            color: var(--color-accent);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 1.5rem;
        }
        
        .nav-links a {
            color: var(--color-light);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--color-accent);
        }
        
        .cart-icon {
            position: relative;
            margin-left: 2rem;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--color-accent);
            color: var(--color-primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--color-accent);
        }
        
        .page-title {
            color: var(--color-primary);
            font-size: 2rem;
        }
        
        .cart-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }
        
        /* Cart Items */
        .cart-items {
            background: var(--color-light);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
        }
        
        .cart-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
            font-weight: 600;
            color: var(--color-primary);
        }
        
        .cart-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            align-items: center;
            padding: 1.5rem 0;
            border-bottom: 1px solid #eee;
            transition: background-color 0.3s;
        }
        
        .cart-item:hover {
            background-color: #f8f9fa;
        }
        
        .item-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .item-image {
            width: 80px;
            height: 60px;
            border-radius: 6px;
            object-fit: cover;
        }
        
        .item-details h3 {
            color: var(--color-primary);
            margin-bottom: 0.3rem;
        }
        
        .item-details p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .availability {
            font-size: 0.8rem;
            padding: 0.2rem 0.5rem;
            border-radius: 12px;
            display: inline-block;
            margin-top: 0.3rem;
        }
        
        .available {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--color-success);
        }
        
        .limited {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--color-warning);
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .quantity-btn {
            background: var(--color-accent);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--color-primary);
            font-weight: bold;
        }
        
        .quantity-btn:hover {
            background: var(--color-secondary);
            color: var(--color-light);
        }
        
        .quantity-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            color: #666;
        }
        
        .quantity {
            width: 40px;
            text-align: center;
            font-weight: 600;
        }
        
        .item-price {
            font-weight: 600;
            color: var(--color-secondary);
        }
        
        .item-total {
            font-weight: 700;
            color: var(--color-primary);
        }
        
        .remove-btn {
            background: none;
            border: none;
            color: var(--color-error);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background-color 0.3s;
            margin-left: 1rem;
        }
        
        .remove-btn:hover {
            background-color: rgba(231, 76, 60, 0.1);
        }
        
        .cart-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn-secondary {
            background-color: var(--color-accent);
            color: var(--color-primary);
        }
        
        .btn-secondary:hover {
            background-color: var(--color-secondary);
            color: var(--color-light);
        }
        
        .btn-danger {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--color-error);
        }
        
        .btn-danger:hover {
            background-color: var(--color-error);
            color: var(--color-light);
        }
        
        /* Cart Summary */
        .cart-summary {
            background: var(--color-light);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 2rem;
        }
        
        .summary-title {
            color: var(--color-primary);
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
        }
        
        .summary-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #eee;
        }
        
        .summary-total {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--color-primary);
            border-bottom: none;
            padding-top: 1rem;
            margin-top: 1rem;
            border-top: 2px solid var(--color-accent);
        }
        
        .discount-code {
            display: flex;
            gap: 0.5rem;
            margin: 1.5rem 0;
        }
        
        .discount-input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .btn-primary {
            background-color: var(--color-secondary);
            color: var(--color-light);
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
            margin-top: 1rem;
        }
        
        .btn-primary:hover {
            background-color: var(--color-primary);
        }
        
        .btn-primary:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
        
        .empty-cart {
            text-align: center;
            padding: 3rem;
            color: #666;
        }
        
        .empty-cart h3 {
            margin-bottom: 1rem;
            color: var(--color-primary);
        }
        
        /* Alert Styles */
        .alert {
            padding: 0.8rem 1rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
            display: none;
        }
        
        .alert.error {
            background-color: rgba(231, 76, 60, 0.1);
            border: 1px solid var(--color-error);
            color: var(--color-error);
            display: block;
        }
        
        .alert.success {
            background-color: rgba(39, 174, 96, 0.1);
            border: 1px solid var(--color-success);
            color: var(--color-success);
            display: block;
        }
        
        /* Footer */
        footer {
            background-color: var(--color-dark);
            color: var(--color-light);
            padding: 2rem 2rem 1rem;
            margin-top: auto;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }
        
        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--color-accent);
            font-size: 1.1rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
            font-size: 0.9rem;
        }
        
        .footer-links a:hover {
            color: var(--color-accent);
        }
        
        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #444;
            color: #aaa;
            font-size: 0.85rem;
        }
        
        /* Responsive Design */
        @media (max-width: 968px) {
            .cart-container {
                grid-template-columns: 1fr;
            }
            
            .cart-summary {
                position: static;
            }
        }
        
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .cart-header {
                display: none;
            }
            
            .cart-item {
                grid-template-columns: 1fr;
                gap: 1rem;
                text-align: center;
            }
            
            .item-info {
                flex-direction: column;
                text-align: center;
            }
            
            .quantity-controls {
                justify-content: center;
            }
            
            .cart-actions {
                flex-direction: column;
                gap: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            header {
                padding: 1rem;
            }
            
            .main-content {
                padding: 1rem;
            }
            
            .page-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="logo">Parch<span>App</span></div>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="index.html#destinos">Destinos</a></li>
                <li><a href="index.html#experiencias">Experiencias</a></li>
                <li><a href="index.html#contacto">Contacto</a></li>
            </ul>
            <div class="cart-icon">
                <span>üõí</span>
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1 class="page-title">Tu Carrito de Compras</h1>
            <a href="index.html" class="btn btn-secondary">Seguir Explorando</a>
        </div>
        
        <!-- Alert Container -->
        <div id="alertContainer"></div>
        
        <div class="cart-container">
            <!-- Cart Items Section -->
            <div class="cart-items">
                <div class="cart-header">
                    <div>Producto</div>
                    <div>Cantidad</div>
                    <div>Precio</div>
                    <div>Total</div>
                </div>
                
                <div id="cartItemsContainer">
                    <!-- Los items del carrito se cargar√°n aqu√≠ din√°micamente -->
                </div>
                
                <div class="cart-actions">
                    <button class="btn btn-danger" id="clearCartBtn">Vaciar Carrito</button>
                    <a href="index.html" class="btn btn-secondary">Agregar M√°s Tours</a>
                </div>
            </div>
            
            <!-- Cart Summary Section -->
            <div class="cart-summary">
                <h2 class="summary-title">Resumen de Compra</h2>
                
                <div class="summary-line">
                    <span>Subtotal:</span>
                    <span id="subtotal">$0</span>
                </div>
                
                <div class="summary-line">
                    <span>IVA (19%):</span>
                    <span id="taxes">$0</span>
                </div>
                
                <div class="discount-code">
                    <input type="text" class="discount-input" id="discountCode" placeholder="C√≥digo de descuento">
                    <button class="btn btn-secondary" id="applyDiscountBtn">Aplicar</button>
                </div>
                
                <div class="summary-line" id="discountLine" style="display: none;">
                    <span>Descuento:</span>
                    <span id="discountAmount">-$0</span>
                </div>
                
                <div class="summary-line summary-total">
                    <span>Total:</span>
                    <span id="totalAmount">$0</span>
                </div>
                
                <button class="btn btn-primary" id="checkoutBtn" disabled>Proceder al Pago</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>ParchApp</h3>
                <p>Descubre las maravillas de Antioquia con nuestras experiencias √∫nicas y tours personalizados.</p>
            </div>
            <div class="footer-section">
                <h3>Enlaces R√°pidos</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="index.html#destinos">Destinos</a></li>
                    <li><a href="index.html#experiencias">Experiencias</a></li>
                    <li><a href="index.html#contacto">Contacto</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="#">T√©rminos y Condiciones</a></li>
                    <li><a href="#">Pol√≠tica de Privacidad</a></li>
                    <li><a href="#">Cookies</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <ul class="footer-links">
                    <li>Email: info@parchapp.com</li>
                    <li>Tel√©fono: +57 300 123 4567</li>
                    <li>Medell√≠n, Antioquia</li>
                </ul>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 ParchApp. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Datos de ejemplo para los tours (DEBE COINCIDIR CON INDEX.HTML)
        const toursData = {
            "guatape": {
                id: "guatape",
                name: "Guatap√©",
                description: "Tour a la Piedra del Pe√±ol",
                price: 120000,
                image: "https://cincohorizontes.com/wp-content/uploads/2021/10/La-Piedra-del-Penon-de-Guatape-al-fondo.jpg",
                availability: "available",
                maxQuantity: 10
            },
            "jardin": {
                id: "jardin",
                name: "Jard√≠n",
                description: "Pueblo m√°gico y cafetales",
                price: 150000,
                image: "https://visitarmedellin.com/wp-content/uploads/2024/05/Jardin-Antioquia.jpg",
                availability: "limited",
                maxQuantity: 5
            },
            "santa-fe": {
                id: "santa-fe",
                name: "Santa Fe de Antioquia",
                description: "Ciudad hist√≥rica colonial",
                price: 100000,
                image: "https://puebliandoporantioquia.com.co/wp-content/uploads/2019/07/Santa-Fe-de-Antioquia-a9.jpg",
                availability: "available",
                maxQuantity: 8
            },
            "medellin": {
                id: "medellin",
                name: "Medell√≠n",
                description: "Tour por la ciudad innovadora",
                price: 90000,
                image: "https://media.tacdn.com/media/attractions-splice-spp-674x446/06/dd/d4/1b.jpg",
                availability: "available",
                maxQuantity: 15
            },
            "parque-arvi": {
                id: "parque-arvi",
                name: "Parque Arv√≠",
                description: "Reserva natural con senderos ecol√≥gicos",
                price: 80000,
                image: "https://blog.redbus.co/wp-content/uploads/2024/10/Proyecto-nuevo-2025-02-27T112200.640.jpg",
                availability: "available",
                maxQuantity: 12
            },
            "rio-claro": {
                id: "rio-claro",
                name: "R√≠o Claro",
                description: "Para√≠so natural con r√≠os cristalinos",
                price: 180000,
                image: "https://www.viajescomfama.com/portals/1139/Images/rio-claro/viajescomfama-antioquia-viva-rio-claro.jpg",
                availability: "limited",
                maxQuantity: 6
            },
            "san-jeronimo": {
                id: "san-jeronimo",
                name: "San Jer√≥nimo",
                description: "Pueblo tranquilo con fincas cafeteras",
                price: 110000,
                image: "https://periodicoeloccidental.com/wp-content/uploads/2024/04/img_4582-1.jpg",
                availability: "available",
                maxQuantity: 8
            },
            "cerro-tusa": {
                id: "cerro-tusa",
                name: "Cerro Tusa",
                description: "Pir√°mide natural para senderismo",
                price: 70000,
                image: "https://www.medellinadvisors.com/wp-content/uploads/2019/05/cerro-tusa-is-a-natural-sanctuary-of-medellin.jpg",
                availability: "available",
                maxQuantity: 10
            }
        };

        // C√≥digos de descuento v√°lidos
        const validDiscounts = {
            "PARCH10": 0.1,   // 10% de descuento
            "VERDE15": 0.15,  // 15% de descuento
            "ANTIOQUIA20": 0.2 // 20% de descuento
        };

        // Carrito en localStorage
        let cart = JSON.parse(localStorage.getItem('parchapp_cart')) || {};
        let appliedDiscount = localStorage.getItem('parchapp_discount') || null;
        let discountRate = 0;

        // Elementos del DOM
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartCount = document.getElementById('cartCount');
        const subtotalElement = document.getElementById('subtotal');
        const taxesElement = document.getElementById('taxes');
        const totalAmountElement = document.getElementById('totalAmount');
        const discountLine = document.getElementById('discountLine');
        const discountAmountElement = document.getElementById('discountAmount');
        const clearCartBtn = document.getElementById('clearCartBtn');
        const applyDiscountBtn = document.getElementById('applyDiscountBtn');
        const discountCodeInput = document.getElementById('discountCode');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const alertContainer = document.getElementById('alertContainer');

        // Funci√≥n para formatear precio
        function formatPrice(price) {
            return new Intl.NumberFormat('es-CO', {
                style: 'currency',
                currency: 'COP',
                minimumFractionDigits: 0
            }).format(price);
        }

        // Funci√≥n para mostrar alertas
        function showAlert(message, type) {
            alertContainer.innerHTML = `<div class="alert ${type}">${message}</div>`;

            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, 5000);
        }

        // Funci√≥n para calcular el carrito
        function calculateCart() {
            let subtotal = 0;
            let totalItems = 0;

            Object.keys(cart).forEach(tourId => {
                const tour = toursData[tourId];
                if (tour) {
                    const quantity = cart[tourId];
                    subtotal += tour.price * quantity;
                    totalItems += quantity;
                }
            });

            // CAMBIO: 19% de IVA en lugar de 10%
            const taxes = subtotal * 0.19;
            const discountAmount = subtotal * discountRate;
            const total = subtotal + taxes - discountAmount;

            // Actualizar UI
            cartCount.textContent = totalItems;
            subtotalElement.textContent = formatPrice(subtotal);
            taxesElement.textContent = formatPrice(taxes);
            totalAmountElement.textContent = formatPrice(total);

            if (discountRate > 0) {
                discountLine.style.display = 'flex';
                discountAmountElement.textContent = `-${formatPrice(discountAmount)}`;
            } else {
                discountLine.style.display = 'none';
            }

            // Habilitar/deshabilitar bot√≥n de pago
            checkoutBtn.disabled = totalItems === 0;
        }

        // Funci√≥n para renderizar items del carrito
        function renderCartItems() {
            cartItemsContainer.innerHTML = '';

            if (Object.keys(cart).length === 0) {
                cartItemsContainer.innerHTML = `
                    <div class="empty-cart">
                        <h3>Tu carrito est√° vac√≠o</h3>
                        <p>¬°Explora nuestros tours y agrega algunas aventuras!</p>
                        <a href="index.html" class="btn btn-primary" style="margin-top: 1rem;">Ver Tours Disponibles</a>
                    </div>
                `;
                return;
            }

            Object.keys(cart).forEach(tourId => {
                const tour = toursData[tourId];
                if (tour) {
                    const quantity = cart[tourId];
                    const itemTotal = tour.price * quantity;

                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="item-info">
                            <img src="${tour.image}" alt="${tour.name}" class="item-image">
                            <div class="item-details">
                                <h3>${tour.name}</h3>
                                <p>${tour.description}</p>
                                <span class="availability ${tour.availability}">
                                    ${tour.availability === 'available' ? 'Disponible' : '√öltimos cupos'}
                                </span>
                            </div>
                        </div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateQuantity('${tourId}', ${quantity - 1})" ${quantity <= 1 ? 'disabled' : ''}>-</button>
                            <span class="quantity">${quantity}</span>
                            <button class="quantity-btn" onclick="updateQuantity('${tourId}', ${quantity + 1})" ${quantity >= tour.maxQuantity ? 'disabled' : ''}>+</button>
                        </div>
                        <div class="item-price">${formatPrice(tour.price)}</div>
                        <div class="item-total">${formatPrice(itemTotal)}</div>
                        <button class="remove-btn" onclick="removeFromCart('${tourId}')">üóëÔ∏è Eliminar</button>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                }
            });
        }

        // Funci√≥n para actualizar cantidad
        function updateQuantity(tourId, newQuantity) {
            const tour = toursData[tourId];

            if (!tour) {
                showAlert('Error: Tour no encontrado', 'error');
                return;
            }

            if (newQuantity <= 0) {
                removeFromCart(tourId);
                return;
            }

            if (newQuantity > tour.maxQuantity) {
                showAlert(`Solo hay ${tour.maxQuantity} cupos disponibles para ${tour.name}`, 'error');
                return;
            }

            cart[tourId] = newQuantity;
            saveCart();
            renderCartItems();
            calculateCart();
            showAlert(`Cantidad actualizada para ${tour.name}`, 'success');
        }

        // Funci√≥n para eliminar item
        function removeFromCart(tourId) {
            const tour = toursData[tourId];
            if (tour) {
                delete cart[tourId];
                saveCart();
                renderCartItems();
                calculateCart();
                showAlert(`${tour.name} eliminado del carrito`, 'success');
            }
        }

        // Funci√≥n para vaciar carrito
        function clearCart() {
            if (Object.keys(cart).length === 0) {
                showAlert('El carrito ya est√° vac√≠o', 'error');
                return;
            }

            if (confirm('¬øEst√°s seguro de que quieres vaciar el carrito?')) {
                cart = {};
                appliedDiscount = null;
                discountRate = 0;
                saveCart();
                localStorage.removeItem('parchapp_discount');
                discountCodeInput.value = '';
                renderCartItems();
                calculateCart();
                showAlert('Carrito vaciado correctamente', 'success');
            }
        }

        // Funci√≥n para aplicar descuento
        function applyDiscount() {
            const code = discountCodeInput.value.trim().toUpperCase();

            if (!code) {
                showAlert('Por favor ingresa un c√≥digo de descuento', 'error');
                return;
            }

            if (validDiscounts[code]) {
                discountRate = validDiscounts[code];
                appliedDiscount = code;
                localStorage.setItem('parchapp_discount', code);
                calculateCart();
                showAlert(`¬°Descuento del ${discountRate * 100}% aplicado!`, 'success');
            } else {
                showAlert('C√≥digo de descuento inv√°lido', 'error');
                discountCodeInput.value = '';
            }
        }

        // Funci√≥n para guardar carrito
        function saveCart() {
            localStorage.setItem('parchapp_cart', JSON.stringify(cart));
        }

        // Funci√≥n para proceder al pago
        function proceedToCheckout() {
           if (Object.keys(cart).length === 0) {
               showAlert('Tu carrito est√° vac√≠o', 'error');
               return;
           }
       
           // Redirigir a la p√°gina de m√©todos de pago
           window.location.href = 'metodospago.html';
        }

        // Event Listeners
        clearCartBtn.addEventListener('click', clearCart);
        applyDiscountBtn.addEventListener('click', applyDiscount);
        checkoutBtn.addEventListener('click', proceedToCheckout);

        // Aplicar descuento guardado al cargar la p√°gina
        if (appliedDiscount && validDiscounts[appliedDiscount]) {
            discountRate = validDiscounts[appliedDiscount];
            discountCodeInput.value = appliedDiscount;
        }

        // Inicializar carrito
        document.addEventListener('DOMContentLoaded', function() {
            renderCartItems();
            calculateCart();
        });
    </script>
</body>
</html>